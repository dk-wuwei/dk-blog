<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>DK Blog Blog</title>
        <link>https://dk-wuwei.github.io/dk-blog/</link>
        <description>DK Blog Blog</description>
        <lastBuildDate>Sun, 20 Nov 2022 13:32:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-CN</language>
        <item>
            <title><![CDATA[ç¦»å¼€é¡µé¢å‘èµ·è¯·æ±‚]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/leave-page-do-fetch</link>
            <guid>leave-page-do-fetch</guid>
            <pubDate>Sun, 20 Nov 2022 13:32:03 GMT</pubDate>
            <description><![CDATA[éœ€æ±‚èƒŒæ™¯]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="éœ€æ±‚èƒŒæ™¯">éœ€æ±‚èƒŒæ™¯<a class="hash-link" href="#éœ€æ±‚èƒŒæ™¯" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç”¨æˆ·é€€å‡ºå½“å‰é¡µé¢æ—¶ï¼Œä¿®æ”¹çš„æ•°æ®æœªè¿›è¡Œä¿å­˜ï¼Œéœ€è¦å‘é€æ¥å£è¯·æ±‚å®ç°è‡ªåŠ¨ä¿å­˜çš„åŠŸèƒ½ã€‚ç®€å•åˆ†æéœ€æ±‚å¯çŸ¥ï¼Œé€€å‡ºé¡µé¢åŒ…å« <strong>è·¯ç”±åˆ‡æ¢</strong>å’Œ<strong>å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ</strong>ä¸¤ç§æƒ…å†µï¼š</p><ul><li>è·¯ç”±åˆ‡æ¢ï¼šé¡¹ç›®ä½¿ç”¨ <code>Vue2</code> å¼€å‘ï¼Œç¦»å¼€é¡µé¢æ—¶å¯ä»¥åœ¨ <code>beforeDestroy</code> é’©å­å‡½æ•°ä¸­è°ƒç”¨æ¥å£å®ç°ä¿å­˜æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åªèƒ½åœ¨è·¯ç”±åˆ‡æ¢å½“å‰ç»„ä»¶é”€æ¯å‰è§¦å‘ï¼Œæ— æ³•ç›‘å¬åˆ°æµè§ˆå™¨é¡µé¢å…³é—­çš„æƒ…å†µã€‚</li><li>å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µï¼šè€ƒè™‘åœ¨ <code>window.onunload</code> é’©å­å‡½æ•°ä¸­å‘é€è¯·æ±‚ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è·¯ç”±åˆ‡æ¢">è·¯ç”±åˆ‡æ¢<a class="hash-link" href="#è·¯ç”±åˆ‡æ¢" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>è·¯ç”±åˆ‡æ¢æ—¶ï¼Œå½“å‰ç»„ä»¶å°†ä¼šè¢«é”€æ¯ï¼Œç”±äº <code>beforeDestroy</code> é’©å­å‡½æ•°æ˜¯åœ¨ç»„ä»¶é”€æ¯å‰è¢«è°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°å½“å‰ç»„ä»¶çš„ <code>data</code>ï¼Œå› æ­¤å¯ä»¥åœ¨ <code>beforeDestroy</code> é’©å­å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨ <code>axios</code> å»è°ƒç”¨æ¥å£ï¼Œä¿å­˜æ•°æ®ã€‚</p><p>è·¯ç”±åˆ‡æ¢æ—¶è°ƒç”¨æ¥å£ä¿å­˜æ•°æ®çš„æ–¹å¼ç®€å•ï¼Œä¸åšè¿‡å¤šèµ˜è¿°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ">å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ<a class="hash-link" href="#å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¯·æ±‚æ—¶æœº">è¯·æ±‚æ—¶æœºï¼š<a class="hash-link" href="#è¯·æ±‚æ—¶æœº" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å›é¡¾ä¸€ä¸‹æµè§ˆå™¨åŠ è½½ã€åˆ·æ–°ã€å¸è½½ï¼ˆå…³é—­ï¼‰æ—¶è§¦å‘çš„äº‹ä»¶ï¼š</p><ul><li>åŠ è½½æ—¶ï¼šè§¦å‘ <code>onload</code> äº‹ä»¶</li><li>åˆ·æ–°æ—¶ï¼šå…ˆè§¦å‘ <code>onbeforeunload</code> äº‹ä»¶ï¼Œç„¶åæ˜¯ <code>onunload</code> äº‹ä»¶ï¼Œæœ€åæ˜¯ <code>onload</code> äº‹ä»¶ã€‚</li><li>å¸è½½æ—¶ï¼šå…ˆè§¦å‘ <code>onbeforeunload</code> äº‹ä»¶ï¼Œç„¶åæ˜¯ <code>onunload</code> äº‹ä»¶</li></ul><p><strong>åˆ·æ–°å’Œå¸è½½é¡µé¢æ—¶éƒ½ä¼šå…ˆåè§¦å‘ onbeforeunload å’Œ onunload äº‹ä»¶ï¼Œä½†åˆ·æ–°é¡µé¢çš„æ—¶å€™æ—¶ä¸éœ€è¦è°ƒç”¨æ¥å£çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦åŒºåˆ†åˆ·æ–°å’Œå…³é—­è¡Œä¸ºã€‚</strong></p><p><strong>æ ¹æ®æ—¶é—´å·®æ¥å®ç°åˆ¤æ–­æ˜¯åˆ·æ–°è¿˜æ˜¯å…³é—­æ ‡ç­¾</strong>ï¼š</p><p>åœ¨ç‚¹å‡»åˆ·æ–°æˆ–è€…å…³é—­æ—¶å¼€å§‹è®¡æ—¶è®°å½•ä¸‹è¿™ä¸€åˆ»çš„æ—¶é—´æˆ³ï¼Œå› ä¸ºåˆ·æ–°å’Œå…³é—­ åœ¨æ‰§è¡Œ onunload æ–¹æ³•æ—¶çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç»è¿‡æµ‹è¯•ï¼š</p><ul><li><strong>å…³é—­æ—¶æ—¶é—´å·®ä¸å¤§äº 3 æ¯«ç§’</strong></li><li><strong>åˆ·æ–°æ—¶å³ä½¿åªæœ‰ä¸€ä¸ªç®€å•çš„ helloworld é¡µé¢éƒ½ä¸å°‘äº 10 æ¯«ç§’</strong></li><li><strong>è€Œä¸€èˆ¬ç½‘ç«™ç½‘é¡µå†…å®¹æ›´å¤šï¼Œæ—¶é—´å·®è¾¾åˆ°äº† 100 å¤šæ¯«ç§’</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demo">demoğŸŒ°ï¼š<a class="hash-link" href="#demo" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">http-equiv</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">X-UA-Compatible</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">IE=edge</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Document</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      let beginTime = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      let differTime = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      window.onbeforeunload = function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        beginTime = new Date().getTime()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      window.onunload = function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        differTime = new Date().getTime() - beginTime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        // å…³é—­é¡µé¢æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        if (differTime &lt; 5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          var blob = new Blob(['room_id=123'], {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            type: 'application/x-www-form-urlencoded'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          navigator.sendBeacon('http://127.0.0.1:8686', blob)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¬¬äºŒç§æ–¹æ¡ˆ">ç¬¬äºŒç§æ–¹æ¡ˆ<a class="hash-link" href="#ç¬¬äºŒç§æ–¹æ¡ˆ" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'visibilitychange'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> isHidden </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hidden</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isHidden</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">saveCalculatorRecord</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">againGetCalculatorRecord</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ³¨æ„">æ³¨æ„ï¼š<a class="hash-link" href="#æ³¨æ„" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨appä¸­éœ€è¦åŸç”Ÿæš´éœ²å‡ºæ¥å£</p>]]></content:encoded>
            <category>JavaScript</category>
        </item>
        <item>
            <title><![CDATA[Git åç§»ç¬¦å·]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/character-offset</link>
            <guid>character-offset</guid>
            <pubDate>Tue, 15 Nov 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨ Git ä¸­ï¼Œæœ‰ä¸¤ä¸ªã€Œåç§»ç¬¦å·ã€: ^ å’Œ ~ã€‚]]></description>
            <content:encoded><![CDATA[<p>åœ¨ Git ä¸­ï¼Œæœ‰ä¸¤ä¸ªã€Œåç§»ç¬¦å·ã€: <code>^</code> å’Œ <code>~</code>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€-çš„ç”¨æ³•">ä¸€ã€^ çš„ç”¨æ³•:<a class="hash-link" href="#ä¸€-çš„ç”¨æ³•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨ <code>commit</code> çš„åé¢åŠ ä¸€ä¸ªæˆ–å¤šä¸ª <code>^</code> å·ï¼Œå¯ä»¥ æŠŠ <code>commit</code> å¾€å›åç§»ï¼Œåç§»çš„æ•°é‡æ˜¯ <code>^</code> çš„æ•°é‡ã€‚ä¾‹ å¦‚: <code>master^</code> è¡¨ç¤º <code>master</code> æŒ‡å‘çš„ <code>commit</code> ä¹‹å‰çš„é‚£ ä¸ª <code>commit</code>; <code>HEAD^^</code> è¡¨ç¤º <code>HEAD</code> æ‰€æŒ‡å‘çš„ <code>commit</code> å¾€ å‰æ•°ä¸¤ä¸ª <code>commit</code>ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> rebase -i HEAD^^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸Šé¢è¿™è¡Œä»£ç è¡¨ç¤ºï¼ŒæŠŠå½“å‰ <code>commit</code> ( <code>HEAD</code> æ‰€æŒ‡å‘çš„ <code>commit</code>) <code>rebase</code> åˆ° <code>HEAD</code> ä¹‹å‰ 2 ä¸ªçš„ <code>commit</code> ä¸Š:</p><p><img loading="lazy" src="https://gitee.com/dk-wuwei/note-resource/raw/master/image/202211080816919.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="äºŒ-çš„ç”¨æ³•">äºŒã€~ çš„ç”¨æ³•:<a class="hash-link" href="#äºŒ-çš„ç”¨æ³•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨ <code>commit</code> çš„åé¢åŠ ä¸Š <code>~</code> å·å’Œä¸€ä¸ªæ•°ï¼Œå¯ä»¥ æŠŠ <code>commit</code> å¾€å›åç§»ï¼Œåç§»çš„æ•°é‡æ˜¯ <code>~</code> å·åé¢çš„æ•°ã€‚ä¾‹å¦‚: <code>HEAD~5</code> è¡¨ç¤º <code>HEAD</code> æŒ‡å‘çš„ <code>commit</code> å¾€å‰æ•° 5 ä¸ª <code>commit</code>ã€‚</p>]]></content:encoded>
            <category>Git</category>
        </item>
        <item>
            <title><![CDATA[marginå’Œpaddingçš„åŒºåˆ«ä»¥åŠä»€ä¹ˆæ—¶å€™ä½¿ç”¨]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/margin-padding</link>
            <guid>margin-padding</guid>
            <pubDate>Fri, 21 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[é¦–å…ˆéœ€è¦æ˜ç™½ï¼Œç›’å­æ¨¡å‹ä¸»è¦å®šä¹‰å››ä¸ªåŒºåŸŸï¼šå†…å®¹ï¼ˆcontentï¼‰ã€è¾¹æ¡†ä¸å†…å®¹çš„åŒºåŸŸï¼Œç§°ä¸ºå†…è¾¹è·ï¼ˆpaddingï¼‰ã€è¾¹æ¡†ï¼ˆborderï¼‰ã€è¾¹æ¡†ä¸å¤–éƒ¨çš„åŒºåŸŸï¼Œç§°ä¸ºå¤–è¾¹è·ï¼ˆmarginï¼‰ã€‚]]></description>
            <content:encoded><![CDATA[<p>é¦–å…ˆéœ€è¦æ˜ç™½ï¼Œç›’å­æ¨¡å‹ä¸»è¦å®šä¹‰å››ä¸ªåŒºåŸŸï¼šå†…å®¹ï¼ˆ<code>content</code>ï¼‰ã€è¾¹æ¡†ä¸å†…å®¹çš„åŒºåŸŸï¼Œç§°ä¸ºå†…è¾¹è·ï¼ˆ<code>padding</code>ï¼‰ã€è¾¹æ¡†ï¼ˆ<code>border</code>ï¼‰ã€è¾¹æ¡†ä¸å¤–éƒ¨çš„åŒºåŸŸï¼Œç§°ä¸ºå¤–è¾¹è·ï¼ˆ<code>margin</code>ï¼‰ã€‚</p><h1>åŒºåˆ«</h1><ul><li><p><code>margin</code>ï¼šè¡¨ç¤ºè¾¹æ¡†ä»¥å¤–çš„åŒºåŸŸ</p></li><li><p><code>padding</code>ï¼šè¡¨ç¤ºè¾¹æ¡†ä¸å†…å®¹ä¹‹é—´çš„åŒºåŸŸ</p></li></ul><h1>ä½¿ç”¨åœºæ™¯</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨marginçš„åœºæ™¯">ä½¿ç”¨marginçš„åœºæ™¯ï¼š<a class="hash-link" href="#ä½¿ç”¨marginçš„åœºæ™¯" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>éœ€è¦åœ¨<code>border</code>ï¼ˆè¾¹æ¡†ï¼‰ä»¥å¤–çš„åŒºåŸŸæ·»åŠ ç©ºç™½é—´è·æ—¶ï¼›</p></li><li><p>ç©ºç™½åŒºåŸŸä¸éœ€è¦ä½¿ç”¨èƒŒæ™¯é¢œè‰²æ—¶</p></li><li><p>éœ€è¦ä½¿ç”¨è´Ÿå€¼å¯¹é¡µé¢å¸ƒå±€æ—¶ï¼ˆæ³¨æ„ï¼š<code>margin</code>çš„å€¼å¯ä»¥å–è´Ÿæ•°ï¼Œ<code>padding</code>çš„å€¼æ˜¯ä¸èƒ½ä½¿è´Ÿæ•°çš„ï¼‰</p></li></ul><p><strong>æ³¨æ„ï¼š</strong></p><blockquote><p>ä¸Šä¸‹ä¸¤ä¸ªç›¸è¿çš„ç›’å­ä¹‹é—´ä½¿ç”¨çš„å¤–è¾¹è·éœ€è¦ç›¸äº’æŠµæ¶ˆã€‚</p><p><code>margin</code>åœ¨å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„å€¼ç›¸åŒæ—¶ä¼šå‘ç”Ÿå åŠ ï¼Œæ°´å¹³æ–¹å‘çš„å€¼ä¼šç›¸åŠ ã€‚<code>margin</code>å–è´Ÿå€¼æ—¶ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šï¼Œä¸¤ä¸ªå…ƒç´ çš„è¾¹ç•Œä»ç„¶ä¼šé‡å ï¼Œä½†æ˜¯ï¼Œæ­¤æ—¶ä¸€ä¸ªä¸ºæ­£æ•°ï¼Œä¸€ä¸ªä¸ºè´Ÿæ•°ï¼Œå¹¶ä¸æ˜¯å–å…¶ä¸­è¾ƒå¤§çš„å€¼ï¼Œè€Œæ˜¯ç”¨è¾¹ç•Œçš„ç»å¯¹å€¼ï¼Œä¹Ÿå°±æ˜¯æ­£çš„è¾¹ç•Œå€¼å’Œè´Ÿçš„è¾¹ç•Œå€¼ç›¸åŠ ã€‚</p></blockquote><h1>ä½¿ç”¨paddingçš„åœºæ™¯ï¼š</h1><ul><li><p>éœ€è¦åœ¨<code>border</code>å†…ä¾§æ·»åŠ ç©ºç™½</p></li><li><p>ç©ºç™½åŒºåŸŸéœ€è¦ä½¿ç”¨åˆ°èƒŒæ™¯é¢œè‰²</p></li></ul><p><strong>æ³¨æ„ï¼š</strong></p><blockquote><p>ä¸Šä¸‹ç›¸è¿çš„ä¸¤ä¸ªç›’å­ä¹‹é—´çš„ç©ºç™½ï¼Œé—´è·æ˜¯ä¸¤è€…ä¹‹å’Œ</p><p>æœ€åï¼Œéœ€æ³¨æ„<code>margin</code>æ˜¯ç”¨æ¥éš”å¼€å…ƒç´ ä¸å…ƒç´ çš„é—´è·ï¼›<code>padding</code>æ˜¯ç”¨æ¥éš”&gt; å¼€å…ƒç´ ä¸å†…å®¹çš„é—´è·ï¼›<code>margin</code>ç”¨äºå¸ƒå±€åˆ†å¼€å…ƒç´ ï¼Œä½¿å…ƒç´ ä¸å…ƒç´ äº’ä¸å¹²&gt; æ‰°ï¼›<code>padding</code>ç”¨äºå…ƒç´ ä¸å†…å®¹ä¹‹é—´é—´éš”ï¼Œè®©å†…å®¹ä¸å…ƒç´ ä¹‹é—´æœ‰ä¸€æ®µè·ç¦»ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¡¥å……">è¡¥å……<a class="hash-link" href="#è¡¥å……" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ€ªå¼‚ç›’æ¨¡å‹ï¼š<code>content=content+padding+border</code></p><p>æ ‡å‡†ç›’æ¨¡å‹ï¼š<code>content=content</code></p><p>åœ¨æ€ªå¼‚ç›’æ¨¡å‹ä¸­ï¼Œä¸€ä¸ªå—çš„æ€»å®½åº¦å—<code>margin</code>å½±å“ï¼Œä½†ä¸å—<code>padding</code>çš„å½±å“ã€‚</p>]]></content:encoded>
            <category>CSS</category>
        </item>
        <item>
            <title><![CDATA[useReducer]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/use-reducer</link>
            <guid>use-reducer</guid>
            <pubDate>Wed, 12 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[useReducer æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š]]></description>
            <content:encoded><![CDATA[<p>useReducer æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šreducer å‡½æ•°ï¼Œæ²¡é”™å°±æ˜¯æˆ‘ä»¬ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°ï¼šåˆå§‹åŒ–çš„ stateã€‚è¿”å›å€¼ä¸ºæœ€æ–°çš„ state å’Œ dispatch å‡½æ•°ï¼ˆç”¨æ¥è§¦å‘ reducer å‡½æ•°ï¼Œè®¡ç®—å¯¹åº”çš„ stateï¼‰ã€‚æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼šå¯¹äºå¤æ‚çš„ state æ“ä½œé€»è¾‘ï¼ŒåµŒå¥—çš„ state çš„å¯¹è±¡ï¼Œæ¨èä½¿ç”¨ useReducerã€‚</p><p>å¬èµ·æ¥æ¯”è¾ƒæŠ½è±¡ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å®˜æ–¹ useReducer Demo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåº”ç”¨çš„åˆå§‹åŒ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> initialState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¬¬äºŒä¸ªå‚æ•°ï¼šstateçš„reducerå¤„ç†å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'increment'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'decrement'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Counter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è¿”å›å€¼ï¼šæœ€æ–°çš„stateå’Œdispatchå‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dispatch</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useReducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reducer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> initialState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// useReducerä¼šæ ¹æ®dispatchçš„actionï¼Œè¿”å›æœ€ç»ˆçš„stateï¼Œå¹¶è§¦å‘rerender</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">Count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// dispatch ç”¨æ¥æ¥æ”¶ä¸€ä¸ª actionå‚æ•°ã€Œreducerä¸­çš„actionã€ï¼Œç”¨æ¥è§¦å‘reducerå‡½æ•°ï¼Œæ›´æ–°æœ€æ–°çš„çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'increment'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'decrement'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>æ€»ç»“</h1><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// è¿”å›ä¸€ä¸ª newState (newObject)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">countReducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'add'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'sub'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>useReducer æ˜¯ä¸€ä¸ªåˆ©ç”¨ action æä¾›çš„ä¿¡æ¯ï¼Œå°† state ä» A è½¬æ¢åˆ° B çš„ä¸€ä¸ªçº¯å‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p><ul><li>è¯­æ³•ï¼š(state, action) =&gt; newState</li><li>Immutableï¼šæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ª newStateï¼Œ æ°¸è¿œä¸è¦ç›´æ¥ä¿®æ”¹ state å¯¹è±¡</li><li>Actionï¼šä¸€ä¸ªå¸¸è§„çš„ Action å¯¹è±¡é€šå¸¸æœ‰ type å’Œ payloadï¼ˆå¯é€‰ï¼‰ç»„æˆ<ul><li>typeï¼š æœ¬æ¬¡æ“ä½œçš„ç±»å‹ï¼Œä¹Ÿæ˜¯ reducer æ¡ä»¶åˆ¤æ–­çš„ä¾æ®</li><li>payloadï¼š æä¾›æ“ä½œé™„å¸¦çš„æ•°æ®ä¿¡æ¯</li></ul></li></ul>]]></content:encoded>
            <category>React</category>
            <category>Hooks</category>
        </item>
        <item>
            <title><![CDATA[é€‚ç”¨äºHTMLçš„çœç•¥å·]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/ellipsis-for-html</link>
            <guid>ellipsis-for-html</guid>
            <pubDate>Thu, 06 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[è®¾ç½®å†…å®¹æ˜¾ç¤ºå¤šå°‘è¡Œï¼Œå¤šä½™çš„å†…å®¹æ·»åŠ çœç•¥å·]]></description>
            <content:encoded><![CDATA[<p>è®¾ç½®å†…å®¹æ˜¾ç¤ºå¤šå°‘è¡Œï¼Œå¤šä½™çš„å†…å®¹æ·»åŠ çœç•¥å·</p><div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">.ellipsis </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">overflow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hidden</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> -webkit-box</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">-webkit-box-orient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">-webkit-line-clamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> moz ä¸è®¾ç½®ä¹Ÿå¯ä»¥ </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">-moz-box</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">-moz-box-orient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vertical</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">-moz-line-clamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>HTML</category>
            <category>CSS</category>
        </item>
        <item>
            <title><![CDATA[JSç¡çœ å‡½æ•°]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/js-sleep-function</link>
            <guid>js-sleep-function</guid>
            <pubDate>Wed, 28 Sep 2022 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * jsç¡çœ å‡½æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param numberMillis {number} æ¯«ç§’å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @returns {boolean}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">numberMillis</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> now </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> exitTime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> now</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> numberMillis</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    now </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> exitTime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>JavaScript</category>
        </item>
        <item>
            <title><![CDATA[mac webstormå¿«æ·é”®]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/webstorm-shortcut-key</link>
            <guid>webstorm-shortcut-key</guid>
            <pubDate>Mon, 26 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[è°ƒè¯•]]></description>
            <content:encoded><![CDATA[<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+T ç”¨ (if..else, try..catch, for, etc.)åŒ…ä½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+/ æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šçš„è¡Œæ³¨é‡Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+/ æ³¨é‡Š/å–æ¶ˆæ³¨é‡Šä¸å—æ³¨é‡Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+â†‘ å‘ä¸Šé€‰å–ä»£ç å—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+â†“ å‘ä¸‹é€‰å–ä»£ç å—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+L æ ¼å¼åŒ–ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tab,shift+tab è°ƒæ•´ç¼©è¿›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+alt+I å¿«é€Ÿè°ƒæ•´ç¼©è¿›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+C å¤åˆ¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+X å‰ªåˆ‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+V ç²˜è´´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+V ä»å‰ªè´´æ¿é‡Œé€‰æ‹©ç²˜è´´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+D å¤åˆ¶ä»£ç å‰¯æœ¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+delete åˆ é™¤å½“å‰è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+Shift+J æ¸…é™¤ç¼©è¿›å˜æˆå•è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shift+å›è½¦ å¿«é€Ÿæ¢è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+å›è½¦ æ¢è¡Œå…‰æ ‡è¿˜åœ¨åŸå…ˆä½ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+U å¤§å°å†™è½¬æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+[,Command+shift+] æ–‡ä»¶é€‰é¡¹å¡å¿«é€Ÿåˆ‡æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+åŠ å·,Command+å‡å· æ”¶ç¼©ä»£ç å—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+åŠ å·ï¼ŒCommand+shift+å‡å· æ”¶ç¼©æ•´ä¸ªæ–‡æ¡£çš„ä»£ç å—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+W å…³é—­å½“å‰æ–‡ä»¶é€‰é¡¹å¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+å•å‡» å…‰æ ‡åœ¨å¤šå¤„å®šä½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+shift+J æŠŠä¸‹é¢è¡Œçš„ç¼©è¿›æ”¶ä¸Šæ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shift + F6 é«˜çº§ä¿®æ”¹ï¼Œå¯å¿«é€Ÿä¿®æ”¹å…‰æ ‡æ‰€åœ¨çš„æ ‡ç­¾ã€å˜é‡ã€å‡½æ•°ç­‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+/ ä»£ç è¡¥å…¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è°ƒè¯•">è°ƒè¯•<a class="hash-link" href="#è°ƒè¯•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Control+alt+R è¿è¡Œé¡¹ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+Control+R è¿è¡ŒDebug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+F8 æ·»åŠ æ–­ç‚¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+F8 æ‰“å¼€æ–­ç‚¹åˆ—è¡¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¯¼èˆª">å¯¼èˆª<a class="hash-link" href="#å¯¼èˆª" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Command+O è·³è½¬åˆ°æŸä¸ªç±»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+O è·³è½¬åˆ°æŸä¸ªæ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+O è·³è½¬åˆ°æŸä¸ªç¬¦å·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+â†,Control+â†’ è½¬åˆ°ä¸Š/ä¸‹ä¸€ä¸ªç¼–è¾‘å™¨é€‰é¡¹å¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F12 æ‰“å¼€ä¹‹å‰æ‰“å¼€çš„å·¥å…·çª—å£ï¼ˆTODOã€ç»ˆç«¯ç­‰ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+L è·³è½¬è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+E å¼¹å‡ºæœ€è¿‘æ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+â†,Command+alt+â†’ å‘å‰å‘åå¯¼èˆªåˆ°ä»£ç å—äº¤æ¥å¤„ï¼ˆä¸€èˆ¬æ˜¯ç©ºè¡Œå¤„ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+delete å¯¼èˆªåˆ°ä¸Šä¸€ä¸ªç¼–è¾‘ä½ç½®çš„ä½ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+B è·³è½¬åˆ°å˜é‡å£°æ˜å¤„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+J è·å–å˜é‡ç›¸å…³ä¿¡æ¯ï¼ˆç±»å‹ã€æ³¨é‡Šç­‰ï¼Œæ³¨é‡Šæ˜¯æ‹¿ä¸Šä¸€è¡Œçš„æ³¨é‡Šï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+Y å°æµ®çª—æ˜¾ç¤ºå˜é‡å£°æ˜æ—¶çš„è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+[,Command+] å…‰æ ‡ç°åœ¨çš„ä½ç½®å’Œä¹‹å‰çš„ä½ç½®åˆ‡æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+F12 æ–‡ä»¶ç»“æ„å¼¹å‡ºå¼èœå•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+H ç±»çš„å±‚æ¬¡ç»“æ„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F2,shift+F2 åˆ‡æ¢åˆ°ä¸Š\ä¸‹ä¸€ä¸ªçªå‡ºé”™è¯¯çš„ä½ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+â†‘ è·³è½¬åˆ°å¯¼èˆªæ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F3 æ·»åŠ ä¹¦ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+F3 æ·»åŠ å¸¦åŠ©è®°çš„ä¹¦ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+1,alt+2â€¦ åˆ‡æ¢åˆ°ç›¸åº”åŠ©è®°çš„ä¹¦ç­¾ä½ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+F3 æ‰“å¼€ä¹¦ç­¾åˆ—è¡¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vcsæœ¬åœ°å†å²è®°å½•">VCS/æœ¬åœ°å†å²è®°å½•<a class="hash-link" href="#vcsæœ¬åœ°å†å²è®°å½•" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">control+V æ‰“å¼€VSTå°æµ®çª—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+K æäº¤é¡¹ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+T æ›´æ–°é¡¹ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+shift+C æ‰“å¼€æœ€è¿‘ä¿®æ”¹åˆ—è¡¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœç´¢å’Œæ›¿æ¢">æœç´¢å’Œæ›¿æ¢<a class="hash-link" href="#æœç´¢å’Œæ›¿æ¢" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Command+F æœç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+R æ›¿æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+G æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+G æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+F æŒ‰è·¯å¾„æœç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+R æŒ‰è·¯å¾„æ›¿æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é€‰ä¸­æ–‡å­—çš„æœç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+F7 å‘å£°æ˜çš„åœ°æ–¹æœç´¢å¹¶é€‰ä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+F7 æ‰“å¼€æœç´¢æ¡†è¿›è¡Œæœç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+alt+F7 æ‰“å¼€å°æµ®çª—æ˜¾ç¤ºæœç´¢åˆ—è¡¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¯¹é¡¹ç›®æ–‡ä»¶çš„æ“ä½œï¼ˆé‡æ„ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F5 å¤åˆ¶æ–‡ä»¶åˆ°æŸä¸ªç›®å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F6 ç§»åŠ¨æ–‡ä»¶åˆ°æŸä¸ªç›®å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+delete å®‰å…¨åˆ é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shift+F6 é‡å‘½å</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¨å±€çš„">å…¨å±€çš„<a class="hash-link" href="#å…¨å±€çš„" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">åŒå‡»shift å¼¹å‡ºå°æµ®çª—æœç´¢æ‰€æœ‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+åˆ‡æ¢é¡¹ç›® Command+shift+ åå‘åˆ‡æ¢é¡¹ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+shift+A æ•´ä¸ªå·¥ç¨‹çš„æŸ¥æ‰¾æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+1,Command+2â€¦ æ‰“å¼€å„ç§å·¥å…·çª—å£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+shift+F æŠŠæ–‡ä»¶æ·»åŠ åˆ°æ”¶è—å¤¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+shift+I æ‰“å¼€é¡¹ç›®æè¿°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alt+~ å¿«é€Ÿåˆ‡æ¢å½“å‰è®¡åˆ’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command+, è®¾ç½®ç¼–è¾‘å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Control+Tab é€‰é¡¹å¡å’Œå·¥å…·çª—å£ä¹‹é—´è¿›è¡Œåˆ‡æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alert+å›è½¦ æ˜¾ç¤ºnpmç‰ˆæœ¬å‡çº§åˆ—è¡¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>idea</category>
        </item>
        <item>
            <title><![CDATA[Vue2è§£æexcelæ•°æ®]]></title>
            <link>https://dk-wuwei.github.io/dk-blog/first-blog</link>
            <guid>first-blog</guid>
            <pubDate>Tue, 20 Sep 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[ç”¨æœ€ç®€å•çš„æ–¹å¼ä½¿ç”¨ Vue2 + Web Worker + js-xlsx è§£æ excel æ•°æ®]]></description>
            <content:encoded><![CDATA[<p>ç”¨æœ€ç®€å•çš„æ–¹å¼ä½¿ç”¨ Vue2 + Web Worker + js-xlsx è§£æ excel æ•°æ®</p><p><strong>æœ¬æ–‡é‡ç‚¹åœ¨äºå®ç°åŠŸèƒ½ï¼Œæ²¡æœ‰è¿‡å¤šå»å…³æ³¨å…¶ä»–ã€‚</strong> å°±æƒ³ä½¿ç”¨çš„è¯ç›´æ¥ cv åˆ°è‡ªå·±çš„é¡¹ç›®å³å¯ï¼Œæƒ³æ·±å…¥å­¦ä¹ ä¸‹è¾¹ä¹Ÿæœ‰å®˜æ–¹ç½‘å€è‡ªè¡ŒæŸ¥çœ‹å’¯ ğŸº</p><p>ç”±<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fsheetjs.com%2F" target="_blank" rel="noopener noreferrer">SheetJS</a>å‡ºå“çš„<code>js-xlsx</code>æ˜¯ä¸€æ¬¾éå¸¸æ–¹ä¾¿çš„åªéœ€è¦çº¯ JS å³å¯è¯»å–å’Œå¯¼å‡º excel çš„å·¥å…·åº“ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒæ ¼å¼ä¼—å¤šï¼Œæ”¯æŒ xlsã€xlsxã€ods(ä¸€ç§ OpenOffice ä¸“æœ‰è¡¨æ ¼æ–‡ä»¶æ ¼å¼)ç­‰åå‡ ç§æ ¼å¼ã€‚æœ¬æ–‡ä»¥ xlsx æ ¼å¼ä¸ºä¾‹ã€‚githubï¼š<a href="https://github.com/SheetJS/sheetjs" target="_blank" rel="noopener noreferrer">https://github.com/SheetJS/sheetjs</a></p><p>ä¸ºä»€ä¹ˆä½¿ç”¨ Web Worker å‘¢ï¼Ÿä¸ºäº†åŠ å¿«è§£æé€Ÿåº¦ï¼Œæé«˜ç”¨æˆ·ä½“éªŒåº¦ ğŸ¤¡ã€‚Web Worker å…·ä½“ä»‹ç»çœ‹é˜®è€å¸ˆçš„åšå®¢å°±å¥½ ğŸ˜€
<a href="http://www.ruanyifeng.com/blog/2018/07/web-worker.html" target="_blank" rel="noopener noreferrer">Web Worker ä½¿ç”¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a></p><p><strong>æœ¬æ–‡é…å¥— demo ä»“åº“ï¼š</strong></p><p><strong><a href="https://gitee.com/ardeng/worker-xlsx.git" target="_blank" rel="noopener noreferrer">https://gitee.com/ardeng/worker-xlsx.git</a></strong></p><h1>æ•ˆæœæ¼”ç¤º</h1><p><img loading="lazy" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d17099415f4a465489d0671abada33d7~tplv-k3u1fbpfcp-watermark.image?" alt="æ¼”ç¤ºæ•ˆæœ" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="html">HTML<a class="hash-link" href="#html" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><strong>æ™®æ™®é€šé€šã€ç®€ç®€å•å•çš„ element ui ä¸Šä¼ ç»„ä»¶</strong></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">el-upload</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">input</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">action</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">:show-file-list</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">false</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">:auto-upload</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">false</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">:on-change</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">importExcel</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">file</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">el-button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">primary</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ä¸Šä¼ </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">el-button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">el-upload</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="js-éƒ¨åˆ†">JS éƒ¨åˆ†<a class="hash-link" href="#js-éƒ¨åˆ†" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ— -web-worker-ç‰ˆ">æ—  Web Worker ç‰ˆ<a class="hash-link" href="#æ— -web-worker-ç‰ˆ" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Worker çº¿ç¨‹ä¸€æ—¦æ–°å»ºæˆåŠŸï¼Œå°±ä¼šå§‹ç»ˆè¿è¡Œï¼Œä¸ä¼šè¢«ä¸»çº¿ç¨‹ä¸Šçš„æ´»åŠ¨ï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ã€æäº¤è¡¨å•ï¼‰æ‰“æ–­ã€‚è¿™æ ·æœ‰åˆ©äºéšæ—¶å“åº”ä¸»çº¿ç¨‹çš„é€šä¿¡ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿé€ æˆäº† Worker æ¯”è¾ƒè€—è´¹èµ„æºï¼Œä¸åº”è¯¥è¿‡åº¦ä½¿ç”¨ï¼Œè€Œä¸”ä¸€æ—¦ä½¿ç”¨å®Œæ¯•ï¼Œå°±åº”è¯¥å…³é—­ã€‚</p><p>Web Worker æœ‰ä»¥ä¸‹å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚</p><ol><li><p><strong>åŒæºé™åˆ¶</strong> åˆ†é…ç»™ Worker çº¿ç¨‹è¿è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œå¿…é¡»ä¸ä¸»çº¿ç¨‹çš„è„šæœ¬æ–‡ä»¶åŒæºã€‚</p></li><li><p><strong>DOM é™åˆ¶</strong> Worker çº¿ç¨‹æ‰€åœ¨çš„å…¨å±€å¯¹è±¡ï¼Œä¸ä¸»çº¿ç¨‹ä¸ä¸€æ ·ï¼Œæ— æ³•è¯»å–ä¸»çº¿ç¨‹æ‰€åœ¨ç½‘é¡µçš„ DOM å¯¹è±¡ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨<code>document</code>ã€<code>window</code>ã€<code>parent</code>è¿™äº›å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒWorker çº¿ç¨‹å¯ä»¥<code>navigator</code>å¯¹è±¡å’Œ<code>location</code>å¯¹è±¡ã€‚</p></li><li><p><strong>é€šä¿¡è”ç³»</strong> Worker çº¿ç¨‹å’Œä¸»çº¿ç¨‹ä¸åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå®ƒä»¬ä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œå¿…é¡»é€šè¿‡æ¶ˆæ¯å®Œæˆã€‚</p></li><li><p><strong>è„šæœ¬é™åˆ¶</strong> Worker çº¿ç¨‹ä¸èƒ½æ‰§è¡Œ<code>alert()</code>æ–¹æ³•å’Œ<code>confirm()</code>æ–¹æ³•ï¼Œä½†å¯ä»¥ä½¿ç”¨ XMLHttpRequest å¯¹è±¡å‘å‡º AJAX è¯·æ±‚ã€‚</p></li><li><p><strong>æ–‡ä»¶é™åˆ¶</strong> Worker çº¿ç¨‹æ— æ³•è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œå³ä¸èƒ½æ‰“å¼€æœ¬æœºçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆ<code>file://</code>ï¼‰ï¼Œå®ƒæ‰€åŠ è½½çš„è„šæœ¬ï¼Œå¿…é¡»æ¥è‡ªç½‘ç»œã€‚</p></li></ol><p><strong>ç”±äºä»¥ä¸Šçš„é™åˆ¶ï¼Œæ‰€ä»¥ä¸æƒ³æ Worker ä¹Ÿå¯ä»¥ã€‚</strong> ç›´æ¥è§£ææ–‡ä»¶å¯¹è±¡ è½¬æ¢æ•°æ®å³å¯ã€‚</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">importExcel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// éªŒè¯æ–‡ä»¶æ˜¯å¦ä¸ºexcel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.(xlsx|xls|csv)$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"æ ¼å¼é”™è¯¯ï¼è¯·é‡æ–°é€‰æ‹©"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fileToExcel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">tabJson</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¿™é‡Œæ‹¿åˆ°excelçš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tabJson</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// excelæ•°æ®è½¬ä¸ºjsonæ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">fileToExcel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸ä½¿ç”¨ Promise ä¹Ÿå¯ä»¥ åªæ˜¯æŠŠè¯»æ–‡ä»¶åšæˆå¼‚æ­¥æ›´åˆç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> reject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reader </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">FileReader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// æ‹¿åˆ°fileæ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// XLSX è§£æçš„é…ç½®  type: 'binary' å¿…å†™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> excelData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XLSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'binary'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// æ³¨æ„è¦åŠ  { header: 1 }, æ­¤é…ç½®é¡¹ å¯ç”ŸæˆäºŒç»´æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XLSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sheet_to_json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">excelData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Sheets</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">excelData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">SheetNames</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">header</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//! è¯»å–å»é™¤å·¥ä½œç°¿ä¸­çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// è°ƒç”¨æ–¹æ³•  è¯»å–äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      reader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">readAsBinaryString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">raw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-worker-ç‰ˆ">Web Worker ç‰ˆ<a class="hash-link" href="#web-worker-ç‰ˆ" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><strong>æƒ³ç”¨ Worker ä¸€äº›å‰ç½®å·¥ä½œæ˜¯å¿…ä¸å¯å°‘çš„</strong></p><ol><li>ä¸‹è½½ worker-loader</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D worker-loader</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>vue.config.js ä¸­é…ç½® loader</li></ol><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// è®¾ç½®è§£æä»¥worker.js ç»“å°¾çš„æ–‡ä»¶ä½¿ç”¨worker-loader è§£æ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function-variable function" style="color:#d73a49">chainWebpack</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">rule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"worker"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.worker\.js$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"worker-loader"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"worker-loader"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">options</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">inline</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"fallback"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>æ­£å¼è¿›å…¥ä½¿ç”¨ Web Worker</strong></p><p>å°è£…ä¸€ä¸‹ Web Worker å‘½åè§„åˆ™å¦‚ä¸‹ï¼šxxx.worker.js</p><p>ä¸‹é¢ä»£ç ä¸­ï¼Œ<code>self</code>ä»£è¡¨å­çº¿ç¨‹è‡ªèº«ï¼Œå³å­çº¿ç¨‹çš„å…¨å±€å¯¹è±¡ã€‚</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// src\utils\excel.worker.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XLSX</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"xlsx"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * å¤„ç†é”™è¯¯çš„å‡½æ•° ä¸»çº¿ç¨‹å¯ä»¥ç›‘å¬ Worker æ˜¯å¦å‘ç”Ÿé”™è¯¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * å¦‚æœå‘ç”Ÿé”™è¯¯ï¼ŒWorker ä¼šè§¦å‘ä¸»çº¿ç¨‹çš„`error`äº‹ä»¶ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">ERROR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å‘é€é”™è¯¯ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">postMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"error"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// `self.close()`ç”¨äºåœ¨ Worker å†…éƒ¨å…³é—­è‡ªèº«ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// é”™è¯¯å¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"error"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token constant" style="color:#36acaa">ERROR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è¾“å‡ºé”™è¯¯ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"ERROR: Line "</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">lineno</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">" in "</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">": "</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @description: Worker çº¿ç¨‹å†…éƒ¨éœ€è¦æœ‰ä¸€ä¸ªç›‘å¬å‡½æ•°ï¼Œç›‘å¬`message`äº‹ä»¶ã€‚ å·¥ä½œçº¿ç¨‹æ¥æ”¶åˆ°ä¸»çº¿ç¨‹çš„æ¶ˆæ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param {object} event event.data  è·å–åˆ°ä¸»çº¿ç¨‹å‘é€è¿‡æ¥çš„æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"message"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å‘ä¸»çº¿ç¨‹å‘é€æ¶ˆæ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// postMessage(event.data);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è§£æexcelæ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">parsingExcel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @description: è§£æexcelæ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param {object} data.excelFileData æ–‡ä»¶æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @param {object} data.config é…ç½®ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">parsingExcel</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ³¨æ„ { header: 1 }, æ­¤é…ç½®é¡¹ å¯ç”ŸæˆäºŒç»´æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> excelFileData</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">header</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reader </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">FileReader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¤„ç†æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ‹¿åˆ°fileæ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> excelData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XLSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"binary"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XLSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sheet_to_json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        excelData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Sheets</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">excelData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">SheetNames</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//! è¯»å–å»é™¤å·¥ä½œç°¿ä¸­çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// å‘é€æ¶ˆæ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">postMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"success"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è°ƒç”¨æ–¹æ³•  è¯»å–äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">readAsBinaryString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">excelFileData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">raw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">ERROR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"è§£æexcelæ•°æ®æ—¶ catchåˆ°çš„é”™è¯¯===&gt;"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>ä½¿ç”¨</strong></p><p>å¼•å…¥æ–‡ä»¶</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Worker</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"@/utils/excel.worker.js"</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸šåŠ¡ç›¸å…³çš„é€»è¾‘</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">importExcel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.(xlsx|xls|csv)$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"æ ¼å¼é”™è¯¯ï¼è¯·é‡æ–°é€‰æ‹©"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// åˆ›å»ºå®åˆ—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> worker </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Worker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸»çº¿ç¨‹è°ƒç”¨`worker.postMessage()`æ–¹æ³•ï¼Œå‘ Worker å‘æ¶ˆæ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  worker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">postMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">excelFileData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">header</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸»çº¿ç¨‹é€šè¿‡`worker.onmessage`æŒ‡å®šç›‘å¬å‡½æ•°ï¼Œæ¥æ”¶å­çº¿ç¨‹å‘å›æ¥çš„æ¶ˆæ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  worker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onmessage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'success'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// dataæ˜¯ä¸ªäºŒç»´æ•°ç»„ è¡¨å¤´åœ¨ä¸Šè¾¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Worker å®Œæˆä»»åŠ¡ä»¥åï¼Œä¸»çº¿ç¨‹å°±å¯ä»¥æŠŠå®ƒå…³æ‰ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      worker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">terminate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>å¯èƒ½é‡åˆ°çš„é—®é¢˜</h1><ol><li><code>npm run dev</code>&nbsp; å¯åŠ¨ä¸äº†ï¼Œå¹¶ä¸” webpack æŠ¥é”™ï¼šæ£€æŸ¥ä¸‹ &nbsp;<code>webpack</code>&nbsp;<code>worker-loader</code>&nbsp; çš„ç‰ˆæœ¬ã€‚</li><li>æ§åˆ¶å°æŠ¥é”™åŒ…å« &nbsp;<code>not a function</code>&nbsp; æˆ– &nbsp;<code>not a constructor</code>ï¼šæ£€æŸ¥ä¸‹ webpck é…ç½®ã€‚æœ€å¥½æ˜¯æŸ¥çœ‹è‹±æ–‡æ–‡æ¡£ &nbsp;<a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack</a>ï¼Œå› ä¸ºä¸­æ–‡æ–‡æ¡£æ›´æ–°ä¸åŠæ—¶ã€‚</li><li>æ§åˆ¶å°æŠ¥é”™ &nbsp;<code>window is not defined</code>ï¼šæ”¹æˆ &nbsp;<code>self</code>&nbsp; è¯•è¯•ã€‚å‚è€ƒ &nbsp;<a href="https://stackoverflow.com/questions/38747706/webpack-worker-loader-import-doesnt-work" target="_blank" rel="noopener noreferrer">Webpack worker-loader - import doesnâ€™t work</a></li></ol>]]></content:encoded>
            <category>Vue2</category>
            <category>ElementUI</category>
        </item>
    </channel>
</rss>